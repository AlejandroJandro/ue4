=== Build UE4 TrueSky plugin ===

* Use UE4.sln (UE4.vcxproj).

* Soluton file must go to the folder where your UE4 installation is (UE4 root folder)
* Project file goes to Engine/Intermediate/ProjectFiles (i.e. folder where prj files were generated)
* Project contains "TrueSkyPlugin" folder in Engine/UE4/Plugins

* Build UE4 project.
* Build some game project (I build QAGame). Set that game project as a startup project in VS.
( If you want to debug, run the game project, not UE4. Otherwise you must manually attach the debugger to
a new process.)

TrueSkyPlugin currently loads "TrueSkyUI.dll" from %SIMUL%\exe\x64\VC11\Debug\TrueSkyUI.dll
This DLL further loads Qt libraries. For that, the PATH env-variable is extended by
%QTDIR%\bin
%SIMUL%\exe\x64
%SIMUL%\exe\x64\VC11\Debug

It also loads Qt style-sheet from
%SIMUL%\PlugIns\UE4\TrueSkyUI\qss
(Note that it's all temporary solution!)

Therefore before running UE4 you must properly set QTDIR and SIMUL env-variables

I do it by starting VS using following batch file:

@echo off
set SIMUL=%CD%\Simul
set QTDIR=C:\Qt64\Qt5.2.0\5.2.0\msvc2012_64
cd "C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE\"
start devenv.exe


=== Build TrueSkyUI.dll ===

* Use %SIMUL%/PlugIns/UE4/TrueSkyUI/TrueSkyUI.vcxproj
It builds x64 DLL into %SIMUL%/exe/$(Platform)/VC11/$(Configuration)
However UE4 plugin currently loads debug version (from .../Debug folder) only!
* To build DLL you must build "qtwinmigrate" library first (in PlugIns/Qt/QtWinMigrate)
 [I don't know if dependencies are correctly set]


-----------------------------------------------------------------------------------------------------------

Update 1:

* Folder structure in "HowTo" just points at places where .sln and .vcxproj files should go within installed UE4 structure.
UE4.sln can be copied over already generated .sln file (not tested!). However, after copying TrueSkyPlugin folders/files
into UE4 structure, GenerateProjectFiles.bat (from UE4) should generate correct .sln and .vcxproj
-- so maybe it's better not to handle sln/vcxproj files manually but let UE4 to create them.

* TrueSkyUI project has configurations to build EXE or DLL. Please setup your solution so it builds either Debug_DLL or
Release_DLL ( after opening you solution go to Build -> Configuration Manager, choose debur/relase solution
configuration and choose Debug_DLL/Release_DLL for TrueSkyUI )
[exe is for testing purposes only]

IMPORTANT!!!!!!

* To build current version of UE4 TrueSkyPlugin, you must manually move following file:

Engine/Source/Runtime/Windows/D3D11RHI/Private/D3D11RHIPrivate.h
into
Engine/Source/Runtime/Windows/D3D11RHI/Public/D3D11RHIPrivate.h

This is of course a temporary solution and hopefully will be fixed by Epic.















